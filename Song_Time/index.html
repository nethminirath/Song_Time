<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="bootstrap.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <link rel="icon" href="image\icon.jpg">

    <title>Pradeep Rangana</title>
</head>

<body>

    <div class="container-fluid background">
        <div class="row blur">

            <div class="vh-100 d-flex justify-content-center">
                <div class="row align-items-center justify-content-center">

                    <div class="col-11 col-md-4 col-lg-4 song-div text-center">
                        <img src="image\icon.jpg" class="col-12 mt-2 rounded-5" alt="">

                        <label for="" class="fs-1 fw-bold">Ma Thaniwi Unna Den</label><br>
                        <label for="" class="fw-bold text-secondary">Pradeep Rangana</label><br>

                        <input type="range" name="" id="progress">

                        <div class="col-12 text-center">

                            <a href="#" class="text-decoration-none text-black fs-3"><i
                                    class="bi bi-rewind-circle-fill"></i></a>
                            <a href="#" class="text-decoration-none text-black fs-1"><i class="bi bi-play-circle-fill"
                                    id="control" onclick="playPause();"></i></a>
                            <a href="#" class="text-decoration-none text-black fs-3"><i
                                    class="bi bi-fast-forward-circle-fill"></i></a>

                        </div>

                        <audio id="song">
                            <source src="audio\Ma Thaniwi Unna Den - Pradeep Rangana [SONG.LK].mp3">
                        </audio>

                    </div>

                </div>
            </div>

        </div>
    </div>

    <script>

        let progress = document.getElementById("progress");
        let control = document.getElementById("control");
        let song = document.getElementById("song");

        song.onloadedmetadata = function(){

            progress.max = song.duration;
            progress.value = song.currentTime;

        }

        function playPause(){

            if (control.classList == ("bi bi-play-circle-fill")) {

                song.play();
                control.classList = ("bi bi-pause-circle-fill");
                
            }else{

                song.pause();
                control.classList = ("bi bi-play-circle-fill");

            }

        }

        if (song.play()) {
            setInterval(() => {

                progress.value = song.currentTime;

            }, 2500)
        }

        progress.onchange = function(){

            song.play();
            song.currentTime = progress.value;
            control.classList = ("bi bi-pause-circle-fill");

        }

    </script>
</body>

</html>